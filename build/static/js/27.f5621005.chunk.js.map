{"version":3,"sources":["components/mealBoxItemsTable.jsx","components/NewMealBoxItemsList.jsx","forms/mealBoxForm.jsx","services/mealBoxItemServices.js"],"names":["MealBoxItemsTable","Component","columns","property","label","content","MealBox","getMealBoxesName","MealBoxIdFK","MealItem","getMealItemsName","MealItemIdFK","render","this","props","MealBoxItems","onSort","sortColumn","onSelect","selected","onView","data","show","MealBoxItemsListView","constructor","super","handleDelete","id","a","originalMealBoxItems","state","filter","c","Id","setState","deleteMealBoxItem","response","status","handleTrackChanges","history","push","handlePageChange","page","currentPage","handleSort","handleSelect","handleEdit","handleAdd","handleView","handleSearch","value","keys","toLowerCase","split","map","e","console","log","getPagedData","pageSize","filtered","sorted","_","orderBy","order","paginate","totalCount","length","componentDidMount","getMealItems","getMealBoxes","getMealBoxItems","list","Result","mealBoxId","MealItems","filteredResult","allMealBoxItems","mealBoxItems","getOrders","Card","CardBody","onDelete","onExport","handleExport","itemsCount","onPageChange","MealBoxForm","Form","CustomerId","MealBoxTitle","Description","MealBoxPrice","TotalCalories","PersonCount","IsKidMeal","MealBoxOffer","Protien","Fat","Fiber","SpiceLevel","MealBoxIdFKs","Lavels","YesNoWordList","errors","schema","Joi","any","number","required","string","allow","bool","mapToViewModel","x","doSubmit","mealBox","saveMealBox","toast","error","message","Imported","LavelsList","match","params","startsWith","substring","endsWith","getMealBox","result","isView","CRUDType","defaultText","resourceId","onSubmit","handleSubmit","Row","Col","renderInput","renderCheckBox","renderSelect","renderButton","RecordId","ModuleName","path","http","get","getMealBoxItem","saveMealBoxItem","MealBoxItem","post"],"mappings":"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","file":"static/js/27.f5621005.chunk.js","sourcesContent":["// code generated @DevUp using PlatformBuilder, 04/01/2020 14:16:19\r\nimport React, { Component } from \"react\";\r\nimport Table from \"../common/table\";\r\nimport { getMealItemsName, getMealBoxesName } from \"../services/listServices\";\r\n\r\nclass MealBoxItemsTable extends Component {\r\n  columns = [\r\n    // {\r\n    //   property: \"Id\",\r\n    //   label: \"Id\"\r\n    // },\r\n    {\r\n      property: \"MealBoxIdFK\",\r\n      label: \"Meal Box\",\r\n      content: MealBox => getMealBoxesName(MealBox.MealBoxIdFK)\r\n    },\r\n    {\r\n      property: \"MealItemIdFK\",\r\n      label: \"Meal Item\",\r\n      content: MealItem => getMealItemsName(MealItem.MealItemIdFK)\r\n    },\r\n    {\r\n      property: \"Quantity\",\r\n      label: \"Quantity\"\r\n    }\r\n  ];\r\n\r\n  render() {\r\n    const { MealBoxItems, onSort, sortColumn, onSelect, selected, onView } = this.props;\r\n\r\n    return (\r\n      <Table\r\n        selected={selected}\r\n        columns={this.columns}\r\n        data={MealBoxItems}\r\n        show=\"false\"\r\n        sortColumn={sortColumn}\r\n        onSort={onSort}\r\n        onSelect={onSelect}\r\n        onView={onView}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default MealBoxItemsTable;\r\n","// code generated @DevUp using PlatformBuilder, 04/01/2020 14:16:19\r\nimport React, { Component } from \"react\";\r\nimport { Card, CardBody } from \"reactstrap\";\r\nimport _ from \"lodash\";\r\n\r\nimport Pagination from \"../common/pagination\";\r\nimport paginate from \"../utils/paginate\";\r\nimport { deleteMealBoxItem, getMealBoxItems } from \"../services/mealBoxItemServices\";\r\nimport MealBoxItemsTable from \"./mealBoxItemsTable\";\r\nimport { getMealItems, getMealBoxes } from \"../services/listServices\";\r\n\r\nclass MealBoxItemsListView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      MealBoxItems: [],\r\n      pageSize: 10,\r\n      currentPage: 1,\r\n\r\n      selected: -1,\r\n      sortColumn: { property: \"Id\", order: \"asc\" }\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    getMealItems();\r\n    getMealBoxes();\r\n    const { data: response } = await getMealBoxItems();\r\n    const list = [...response.Result];\r\n    console.log(\"TCL: MealBoxItemsListView -> componentDidMount -> this.props.mealBoxId\", this.props.mealBoxId);\r\n    console.log(\"TCL: MealBoxItemsListView -> componentDidMount -> response.Result\", response.Result);\r\n    const MealItems = list.filter(c => c.MealBoxIdFK === this.props.mealBoxId);\r\n    console.log(\"TCL: MealBoxItemsListView -> componentDidMount -> MealItems\", MealItems);\r\n\r\n    this.setState({ MealBoxItems: MealItems });\r\n  }\r\n\r\n  handleDelete = async id => {\r\n    const originalMealBoxItems = this.state.MealBoxItems;\r\n    const MealBoxItems = this.state.MealBoxItems.filter(c => c.Id !== id);\r\n    this.setState({ MealBoxItems });\r\n    const { data: response } = await deleteMealBoxItem(id);\r\n    if (response.status >= 400 && response.status < 500) this.setState({ MealBoxItems: originalMealBoxItems });\r\n  };\r\n\r\n  handleTrackChanges = id => {\r\n    this.props.history.push(`changes_list/mealBoxItem/${id}`);\r\n  };\r\n\r\n  handlePageChange = page => {\r\n    this.setState({ currentPage: page });\r\n  };\r\n\r\n  handleSort = sortColumn => {\r\n    this.setState({ sortColumn });\r\n  };\r\n\r\n  handleSelect = id => {\r\n    this.setState({ selected: id });\r\n  };\r\n\r\n  handleEdit = id => {\r\n    this.props.history.push(`MealBoxItem_list/${id}`);\r\n  };\r\n\r\n  handleAdd = () => {\r\n    this.props.history.push(\"MealBoxItem_list/new\");\r\n  };\r\n\r\n  handleView = id => {\r\n    this.props.history.push(`MealBoxItem_list/view${id}&`);\r\n  };\r\n\r\n  handleSearch = value => {\r\n    const str = value.toLowerCase().split(\" \");\r\n    const keys = str.map(e => e.split(\":\"));\r\n\r\n    console.log(`${keys[0][0]}:${keys[0][1]}`);\r\n    console.log(`${keys[1][0]}:${keys[1][1]}`);\r\n  };\r\n\r\n  getPagedData = () => {\r\n    const { pageSize, currentPage, sortColumn, MealBoxItems: allMealBoxItems } = this.state;\r\n\r\n    const filtered = allMealBoxItems;\r\n\r\n    // if (searchName || searchCategory) filtered = this.filteredResult();\r\n\r\n    const sorted = _.orderBy(filtered, [sortColumn.property], [sortColumn.order]);\r\n\r\n    const MealBoxItems = paginate(sorted, currentPage, pageSize);\r\n\r\n    return { totalCount: filtered.length, data: MealBoxItems };\r\n  };\r\n\r\n  async filteredResult() {\r\n    const { allMealBoxItems } = this.state;\r\n    let mealBoxItems = { ...allMealBoxItems };\r\n    const { data: response } = await this.getOrders(); // TOPFB\r\n    mealBoxItems = response.value;\r\n    this.setState({ mealBoxItems });\r\n  }\r\n\r\n  render() {\r\n    const { pageSize, currentPage, sortColumn, selected } = this.state;\r\n\r\n    const { totalCount, data: MealBoxItems } = this.getPagedData();\r\n    return (\r\n      <>\r\n        <Card>\r\n          {/* <CardHeader onDoubleClick={() => this.handleSelect(-1)}>\r\n            <Row>\r\n              <Col className=\"float-left\">\r\n                <FontAwesomeIcon icon={faListAlt} />\r\n                <span className=\"ml-2\" style={{ fontSize: \"1rem\", fontWeight: 600 }}>\r\n                  <TranslateText defaultText=\"MealBoxItems\" resourceId=\"lbl_MealBoxItems\" />\r\n                  <br />\r\n                  {totalCount}\r\n                  <TranslateText defaultText=\"found\" resourceId=\"lbl_found\" />\r\n                </span>\r\n              </Col>\r\n              <Col xs=\"*\" md=\"8\">\r\n                <SearchForm onSearch={this.handleSearch} />\r\n              </Col>\r\n              <Col>\r\n                <ButtonPanel\r\n                  id={selected}\r\n                  onEdit={this.handleEdit}\r\n                  show=\"false\"\r\n                  onAdd={this.handleAdd}\r\n                  onView={this.handleView}\r\n                  onDelete={this.handleDelete}\r\n                  onTrackChanges={this.handleTrackChanges}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </CardHeader> */}\r\n          <CardBody>\r\n            <MealBoxItemsTable\r\n              MealBoxItems={MealBoxItems}\r\n              selected={selected}\r\n              sortColumn={sortColumn}\r\n              onSort={this.handleSort}\r\n              onView={this.handleView}\r\n              onDelete={this.handleDelete}\r\n              onExport={this.handleExport}\r\n              onSelect={this.handleSelect}\r\n            />\r\n          </CardBody>\r\n          <Pagination\r\n            itemsCount={totalCount || 0}\r\n            pageSize={pageSize}\r\n            currentPage={currentPage}\r\n            onPageChange={this.handlePageChange}\r\n          />\r\n        </Card>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default MealBoxItemsListView;\r\n","// code generated @DevUp using PlatformBuilder, 04/01/2020 14:16:19\r\nimport React from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Row, Col } from \"reactstrap\";\r\nimport Form from \"../common/customForm\";\r\nimport Attachment from \"./DUTaskAttachmentForm\";\r\nimport AttachmentList from \"../components/NewAttachmentTable\";\r\nimport MealBoxItemsList from \"../components/NewMealBoxItemsList\";\r\n\r\n// import AttachmentList from \"../NewAttachmentTable\";\r\n\r\nimport { getMealBox, saveMealBox } from \"../services/mealBoxServices\";\r\nimport { YesNoWordList, LavelsList } from \"../services/listServices\";\r\n\r\nimport TranslateText from \"../common/translateText\";\r\n\r\nclass MealBoxForm extends Form {\r\n  state = {\r\n    data: {\r\n      // Id: \"\",\r\n      CustomerId: \"\",\r\n      MealBoxTitle: \"\",\r\n      Description: \"\",\r\n      MealBoxPrice: \"\",\r\n      TotalCalories: \"\",\r\n      PersonCount: \"\",\r\n      IsKidMeal: \"\",\r\n      MealBoxOffer: \"\",\r\n      Protien: \"\",\r\n      Fat: \"\",\r\n      Fiber: \"\",\r\n      SpiceLevel: \"\"\r\n    },\r\n    MealBoxIdFKs: [],\r\n    Lavels: [],\r\n    YesNoWordList: [],\r\n    errors: {}\r\n  };\r\n\r\n  schema = {\r\n    Id: Joi.any().label(\"Id\"),\r\n    CustomerId: Joi.number()\r\n      .required()\r\n      .label(\"Customer Id\"),\r\n    MealBoxTitle: Joi.string().allow(\"\"),\r\n    Description: Joi.string().allow(\"\"),\r\n    MealBoxPrice: Joi.number()\r\n      .required()\r\n      .label(\"Meal Box Price\"),\r\n    TotalCalories: Joi.number()\r\n      .required()\r\n      .label(\"Total Calories\"),\r\n    PersonCount: Joi.number()\r\n      .required()\r\n      .label(\"Person Count\"),\r\n\r\n    MealBoxOffer: Joi.number()\r\n      .required()\r\n      .label(\"Meal Box Offer\"),\r\n    IsKidMeal: Joi.bool()\r\n      .required()\r\n      .label(\"Is Kid Meal\"),\r\n    Protien: Joi.number()\r\n      .required()\r\n      .label(\"Protien\"),\r\n    Fat: Joi.number()\r\n      .required()\r\n      .label(\"Fat\"),\r\n    Fiber: Joi.number()\r\n      .required()\r\n      .label(\"Fiber\"),\r\n    SpiceLevel: Joi.number()\r\n      .required()\r\n      .label(\"SpiceLevel\")\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const Imported = YesNoWordList();\r\n    const Lavels = LavelsList();\r\n    const { id: mealBoxId } = this.props.match.params;\r\n    this.setState({ Imported, Lavels });\r\n    if (mealBoxId.startsWith(\"view\")) {\r\n      const id = mealBoxId.substring(4);\r\n\r\n      const isView = mealBoxId.endsWith(\"&\");\r\n      let result;\r\n      if (isView) result = await getMealBox(id);\r\n      // else result = await getTrackedVersion(id);\r\n      this.setState({ data: this.mapToViewModel(result.data.Result) });\r\n      return;\r\n    }\r\n    if (mealBoxId === \"new\") return;\r\n    const { data } = await getMealBox(mealBoxId);\r\n    this.setState({ data: this.mapToViewModel(data.Result) });\r\n  }\r\n\r\n  mapToViewModel = x => {\r\n    return {\r\n      Id: x.Id,\r\n      CustomerId: x.CustomerId,\r\n      MealBoxTitle: x.MealBoxTitle,\r\n      Description: x.Description,\r\n      MealBoxPrice: x.MealBoxPrice,\r\n      TotalCalories: x.TotalCalories,\r\n      PersonCount: x.PersonCount,\r\n      IsKidMeal: x.IsKidMeal,\r\n      MealBoxOffer: x.MealBoxOffer,\r\n      Protien: x.Protien,\r\n      Fat: x.Fat,\r\n      Fiber: x.Fiber,\r\n      SpiceLevel: x.SpiceLevel\r\n    };\r\n  };\r\n\r\n  doSubmit = async () => {\r\n    const { data } = this.state;\r\n    const mealBox = { ...data };\r\n    // mealBox.Imported = !!data.Imported;\r\n    try {\r\n      await saveMealBox(mealBox);\r\n      this.props.history.push(\"/mealBox_list\");\r\n    } catch (err) {\r\n      toast.error(err.message || err.response.message);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { Lavels } = this.state;\r\n    const { id: mealBoxId } = this.props.match.params;\r\n    const isView = mealBoxId.startsWith(\"view\");\r\n\r\n    const CRUDType = mealBoxId === \"new\" ? \"Create\" : \"Update\";\r\n    return (\r\n      <div>\r\n        <h1>\r\n          {!isView && <TranslateText defaultText={CRUDType} resourceId={`lbl_${CRUDType}`} />}\r\n\r\n          <TranslateText defaultText=\" Meal Box\" resourceId=\"lbl_MealBox\" />\r\n        </h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          {/* {this.renderInput(\"Id\", \"Id\")} */}\r\n          <Row>\r\n            <Col>\r\n              {this.renderInput(\"CustomerId\", \"Customer Id\")}\r\n              {this.renderInput(\"MealBoxTitle\", \"Meal Box Title\")}\r\n              {this.renderInput(\"Description\", \"Description\")}\r\n              {this.renderInput(\"MealBoxPrice\", \"Meal Box Price\")}\r\n              {this.renderInput(\"TotalCalories\", \"Total Calories\")}\r\n              {this.renderInput(\"PersonCount\", \"Person Count\")}\r\n            </Col>\r\n            <Col>\r\n              {this.renderCheckBox(\"IsKidMeal\", \"Is Kid Meal\")}\r\n              {this.renderSelect(\"Protien\", \"Protien\", Lavels)}\r\n              {this.renderSelect(\"Fat\", \"Fat\", Lavels)}\r\n              {this.renderSelect(\"Fiber\", \"Fiber\", Lavels)}\r\n              {this.renderSelect(\"SpiceLevel\", \"SpiceLevel\", Lavels)}\r\n              {this.renderInput(\"MealBoxOffer\", \"Meal Box Offer\")}\r\n              {!isView ? this.renderButton(\"Save\") : null}\r\n            </Col>\r\n          </Row>\r\n        </form>\r\n        {CRUDType === \"Update\" && (\r\n          <Row>\r\n            <Col>\r\n              <MealBoxItemsList mealBoxId={mealBoxId} />\r\n            </Col>\r\n            <Col>{!isView && <AttachmentList {...this.props} RecordId={mealBoxId} ModuleName=\"MealBox\" />}</Col>\r\n            <Col>\r\n              {!isView && <Attachment {...this.props} path=\"mealBox_list\" RecordId={mealBoxId} ModuleName=\"MealBox\" />}\r\n            </Col>\r\n          </Row>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MealBoxForm;\r\n","// code generated @DevUp using PlatformBuilder, 04/01/2020 14:16:19\r\nimport http from \"./httpService\";\r\n\r\nconst endpoint = `/MealBoxItem`;\r\n\r\nexport function getMealBoxItems() {\r\n  return http.get(`${endpoint}/MealBoxItems`);\r\n}\r\n\r\nexport function getMealBoxItem(id) {\r\n  return http.get(`${endpoint}/ById?Id=${id}`);\r\n}\r\n\r\nexport function deleteMealBoxItem(id) {\r\n  return http.get(`${endpoint}/Delete?Id=${id}`);\r\n}\r\n\r\nexport function saveMealBoxItem(MealBoxItem) {\r\n  return http.post(`${endpoint}/Create`, MealBoxItem);\r\n}\r\n\r\nexport function filterMealBoxItem() {\r\n  let filterUrl = \"\";\r\n\r\n  const filterPrefix = \"?$filter=\";\r\n\r\n  if (filterUrl !== \"\") filterUrl = filterPrefix + filterUrl;\r\n\r\n  // console.log(oDataUrl + filterUrl);\r\n  return http.get(`odata/DUTasks${filterUrl}`);\r\n}\r\n"],"sourceRoot":""}