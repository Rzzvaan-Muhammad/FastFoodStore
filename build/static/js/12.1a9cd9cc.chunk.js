(this.webpackJsonpFastFoodStore=this.webpackJsonpFastFoodStore||[]).push([[12],{275:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(50),s=a.n(r),o=a(51),c=a(0),i=a.n(c),l=a(82),u=a(83),d=a(156),p=a(256),m=a(84),f=a(53),h=a.n(f),b=a(54),g=a(55),v=a(68),_=a(70),y=a(59),S=a(72),E=a(78),I=a(85),j=a(48),C=a(20);class x extends c.Component{constructor(e){var t;super(e),t=this,this.handleDelete=function(){var e=Object(o.a)(s.a.mark((function e(a){var n,r,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state.MealItemSensitivities,r=t.state.MealItemSensitivities.filter(e=>e.Id!==a),t.setState({MealItemSensitivities:r}),e.next=5,Object(E.a)(a);case 5:o=e.sent,(c=o.data).status>=400&&c.status<500&&t.setState({MealItemSensitivities:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handleTrackChanges=e=>{this.props.history.push("changes_list/mealItemSensitivity/".concat(e))},this.handlePageChange=e=>{this.setState({currentPage:e})},this.handleSort=e=>{this.setState({sortColumn:e})},this.handleSelect=e=>{this.setState({selected:e})},this.handleEdit=e=>{this.props.history.push("MealItemSensitivity_list/".concat(e))},this.handleView=e=>{this.props.history.push("MealItemSensitivity_list/view".concat(e,"&"))},this.handleAdd=()=>{this.props.history.push("MealItemSensitivity_list/new")},this.handleSearch=e=>{const t=e.toLowerCase().split(" ").map(e=>e.split(":"));console.log("".concat(t[0][0],":").concat(t[0][1])),console.log("".concat(t[1][0],":").concat(t[1][1]))},this.getPagedData=()=>{const e=this.state,t=e.pageSize,a=e.currentPage,n=e.sortColumn,r=e.MealItemSensitivities,s=h.a.orderBy(r,[n.property],[n.order]),o=Object(y.a)(s,a,t);return{totalCount:r.length,data:o}},this.state={MealItemSensitivities:[],pageSize:10,currentPage:1,selected:-1,sortColumn:{property:"Id",order:"asc"}}}componentDidMount(){var e=this;return Object(o.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,e.context.dispatch)({type:""}),t.next=4,Object(E.b)();case 4:a=t.sent,n=a.data,e.setState({MealItemSensitivities:n.Result});case 7:case"end":return t.stop()}}),t)})))()}filteredResult(){var e=this;return Object(o.a)(s.a.mark((function t(){var a,r,o,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.allMealItemSensitivities,r=Object(n.a)({},a),t.next=4,e.getOrders();case 4:o=t.sent,c=o.data,r=c.value,e.setState({mealItemSensitivities:r});case 8:case"end":return t.stop()}}),t)})))()}render(){const e=this.state,t=e.pageSize,a=e.currentPage,n=e.sortColumn,r=e.selected,s=this.getPagedData(),o=s.totalCount,c=s.data;return i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,null,i.a.createElement(u.a,{className:" font-weight-bold",onDoubleClick:()=>this.handleSelect(-1)},i.a.createElement(d.a,null,i.a.createElement(p.a,{className:"float-left"},i.a.createElement(b.a,{icon:g.f}),i.a.createElement("span",{className:"ml-2",style:{fontSize:"1rem",fontWeight:600}},i.a.createElement(j.a,{defaultText:"Meal Item Sensitivities",resourceId:"lbl_MealItemSensitivities"}),i.a.createElement("br",null),o,i.a.createElement(j.a,{defaultText:"found",resourceId:"lbl_found"}))),i.a.createElement(p.a,{xs:"*",md:"6"},i.a.createElement(S.a,{onSearch:this.handleSearch})),i.a.createElement(p.a,null,i.a.createElement(v.a,{id:r,show:"false",onEdit:this.handleEdit,onAdd:this.handleAdd,onView:this.handleView,onDelete:this.handleDelete,onTrackChanges:this.handleTrackChanges})))),i.a.createElement(m.a,null,i.a.createElement(I.a,{MealItemSensitivities:c,selected:r,sortColumn:n,onSort:this.handleSort,onView:this.handleView,onDelete:this.handleDelete,onExport:this.handleExport,onSelect:this.handleSelect})),i.a.createElement(_.a,{itemsCount:o||0,pageSize:t,currentPage:a,onPageChange:this.handlePageChange})))}}x.contextType=C.a,t.default=x},57:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return h})),a.d(t,"d",(function(){return b})),a.d(t,"g",(function(){return S})),a.d(t,"f",(function(){return E})),a.d(t,"j",(function(){return C})),a.d(t,"c",(function(){return k})),a.d(t,"i",(function(){return R})),a.d(t,"h",(function(){return z}));var n=a(50),r=a.n(n),s=a(51),o=a(49),c=a(58);function i(){return[{Id:0,Name:"No"},{Id:1,Name:"Yes"}]}function l(){return[{Id:1,Name:"Low"},{Id:2,Name:"Normal"},{Id:3,Name:"High"},{Id:4,Name:"Very High"}]}function u(e,t){return localStorage.setItem(e,JSON.stringify(t)),t}function d(e){const t=localStorage.getItem(e);return JSON.parse(t)}const p="".concat(c.c,"/MealBox"),m="____mealboxes____";function f(e){return localStorage.removeItem(e),e.map(e=>({Id:e.Id,Name:e.MealBoxTitle}))}function h(e){if(!e)return"";const t=d(m).find(t=>t.Id==e);return t?t.Name:e}function b(){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=d(m))||!t.length){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,o.a.get("".concat(p,"/MealBoxs"));case 5:return a=e.sent,console.log("TCL: getMealBoxes -> response.data.Result",a.data.Result),n=f(a.data.Result),e.abrupt("return",u(m,n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const v="".concat(c.c,"/MealItem"),_="____mealitems____";function y(e){return localStorage.removeItem(e),e.map(e=>({Id:e.Id,Name:e.ItemName}))}function S(e){if(!e)return"";const t=d(_).find(t=>t.Id==e);return t?t.Name:e}function E(){return I.apply(this,arguments)}function I(){return(I=Object(s.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=d(_))||!t.length){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,o.a.get("".concat(v,"/MealItems"));case 5:return a=e.sent,n=y(a.data.Result),console.log("TCL: getMealItems -> response.data.Result",a.data.Result),e.abrupt("return",u(_,n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const j="".concat(c.c,"/SpiceLevel");function C(){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=d("____spicelevels____"))||!t.length){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,o.a.get("".concat(j,"/SpiceLevels"));case 5:return a=e.sent,e.abrupt("return",u("____spicelevels____",a.data.Result));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const N="".concat(c.c,"/ItemCategory");function O(e){return localStorage.removeItem(e),e.map(e=>({Id:e.Id,Name:e.CategoryTitle}))}function k(){return M.apply(this,arguments)}function M(){return(M=Object(s.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=d("____itemcategories____"))||!t.length){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,o.a.get("".concat(N,"/ItemCategorys"));case 5:return a=e.sent,console.log("TCL: getItemCategories -> response",a),n=O(a.data.Result),e.abrupt("return",u("____itemcategories____",n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}const w="".concat(c.c,"/SensitiveContent");function T(e){return localStorage.removeItem(e),e.map(e=>({Id:e.Id,Name:e.SensitiveItem}))}function R(e){if(!e)return"";const t=d("____sensitivecontents____").find(t=>t.Id==e);return t?t.Name:e}function z(){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=d("____sensitivecontents____"))||!t.length){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,o.a.get("".concat(w,"/SensitiveContents"));case 5:return a=e.sent,n=T(a.data.Result),e.abrupt("return",u("____sensitivecontents____",n));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},59:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(53),r=a.n(n);function s(e,t,a){const n=(t-1)*a;return r()(e).slice(n).take(a).value()}},61:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(81),o=a(9),c=a(54),i=a(55);class l extends n.Component{constructor(...e){super(...e),this.raiseSort=e=>{const t=Object(o.a)({},this.props.sortColumn);t.property===e?t.order="asc"===t.order?"desc":"asc":(t.property=e,t.order="asc"),this.props.onSort(t)},this.renderSortIcon=e=>{const t=this.props.sortColumn;return e.property!==t.property?null:"asc"===t.order?r.a.createElement(c.a,{icon:i.i}):r.a.createElement(c.a,{icon:i.h})}}render(){return r.a.createElement("thead",null,r.a.createElement("tr",null,this.props.columns.map(e=>r.a.createElement("th",{className:"clickable text-left",key:e.property||e.key,onClick:()=>this.raiseSort(e.property)},e.label," ",this.renderSortIcon(e)))))}}var u=l,d=a(53),p=a.n(d);class m extends n.Component{constructor(...e){super(...e),this.renderCell=(e,t)=>t.content?t.content(e):p.a.get(e,t.property),this.createKey=(e,t)=>e.Id+(t.property||t.key),this.renderStyle=e=>e?{backgroundColor:"skyblue"}:null}render(){const e=this.props,t=e.data,a=e.columns,n=e.selected,s=e.onSelect,o=e.onView;return r.a.createElement("tbody",null,t.map(e=>r.a.createElement("tr",{key:e.Id,className:"clickable",style:this.renderStyle(n===e.Id),onClick:()=>s(e.Id),onDoubleClick:()=>o(e.Id)},a.map(t=>r.a.createElement("td",{key:this.createKey(e,t),className:"text-left"},this.renderCell(e,t))))))}}var f=m;t.a=({columns:e,sortColumn:t,onSort:a,data:n,selected:o,onSelect:c,onView:i})=>r.a.createElement(s.a,{size:"sm",hover:!0,responsive:!0,borderless:!0},r.a.createElement(u,{columns:e,sortColumn:t,onSort:a}),r.a.createElement(f,{data:n,columns:e,selected:o,onView:i,onSelect:c}))},68:function(e,t,a){"use strict";var n=a(11),r=a(0),s=a.n(r),o=a(80),c=a(242),i=a(79),l=a(259),u=a(260),d=a(261),p=a(54),m=a(55),f=a(48);t.a=({id:e,onAdd:t,onView:a,onEdit:h,onDelete:b,onExport:g,onDownload:v,onTrackChanges:_,show:y,Download:S})=>{const E=Object(r.useState)(!1),I=Object(n.a)(E,2),j=I[0],C=I[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{className:"float-right"},"false"===y&&s.a.createElement(c.a,{outline:!0,onClick:()=>t(),hidden:e>0},s.a.createElement(p.a,{icon:m.g})),s.a.createElement(i.a,{isOpen:j,toggle:()=>C(!j)},s.a.createElement(l.a,{disabled:e<0,outline:!0,caret:!0},s.a.createElement(f.a,{defaultText:"More",resourceId:"lbl_More"})),s.a.createElement(u.a,null,"false"===y&&s.a.createElement(d.a,{onClick:()=>h(e),disabled:e<0},s.a.createElement(p.a,{icon:m.a,className:"mr-3"}),s.a.createElement(f.a,{defaultText:"Edit",resourceId:"lbl_Edit"})),"false"===y&&s.a.createElement(d.a,{onClick:()=>a(e),disabled:e<0},s.a.createElement(p.a,{icon:m.b,className:"mr-3"}),s.a.createElement(f.a,{defaultText:"View",resourceId:"lbl_View"})),S&&s.a.createElement(d.a,{onClick:()=>v(e),disabled:e<0},s.a.createElement(p.a,{icon:m.d,className:"mr-3"}),s.a.createElement(f.a,{defaultText:"Download",resourceId:"lbl_Download"})),y=s.a.createElement(d.a,{onClick:()=>b(e),disabled:e<0},s.a.createElement(p.a,{icon:m.j,className:"mr-3"}),s.a.createElement(f.a,{defaultText:"Delete",resourceId:"lbl_Delete"})),s.a.createElement(d.a,{divider:!0}),"false"===y&&s.a.createElement(d.a,{onClick:()=>g(e),disabled:e<0},s.a.createElement(p.a,{icon:m.e,className:"mr-3"}),s.a.createElement(f.a,{defaultText:"Export",resourceId:"lbl_Export"})),"false"===y&&s.a.createElement(d.a,{onClick:()=>_(e),disabled:e<0},s.a.createElement(p.a,{icon:m.a,className:"mr-3"}),s.a.createElement(f.a,{defaultText:"Track Changes",resourceId:"lbl_Track_Changes"}))))))}},70:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(53),o=a.n(s);t.a=({itemsCount:e,pageSize:t,onPageChange:a,currentPage:n})=>{const s=Math.ceil(e/t);if(1===s)return null;const c=o.a.range(1,s+1);return r.a.createElement("nav",{style:{margin:"auto"}},r.a.createElement("ul",{className:"pagination"},c.map(e=>r.a.createElement("li",{key:e,className:e===n?"page-item active":"page-item",onClick:()=>a(e),role:"presentation"},r.a.createElement("a",{className:"page-link",href:"#".concat(e)},e)))))}},72:function(e,t,a){"use strict";var n=a(11),r=a(0),s=a.n(r),o=a(87);t.a=({onSearch:e})=>{const t=Object(r.useState)(""),a=Object(n.a)(t,2),c=a[0],i=a[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{placeholder:"Search",onChange:e=>i(e.target.value),onKeyDown:t=>{13===t.keyCode&&e(c)}}))}},78:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return i}));var n=a(49);const r="/MealItemSensitivity";function s(){return n.a.get("".concat(r,"/MealItemSensitivitys"))}function o(e){return n.a.get("".concat(r,"/ById?Id=").concat(e))}function c(e){return n.a.get("".concat(r,"/Delete?Id=").concat(e))}function i(e){return n.a.post("".concat(r,"/Create"),e)}},79:function(e,t,a){"use strict";var n=a(2),r=a(0),s=a.n(r),o=a(1),c=a.n(o),i=a(74),l={children:c.a.node},u=function(e){return s.a.createElement(i.a,Object(n.a)({group:!0},e))};u.propTypes=l,t.a=u},80:function(e,t,a){"use strict";var n=a(2),r=a(4),s=a(0),o=a.n(s),c=a(1),i=a.n(c),l=a(8),u=a.n(l),d=a(13),p={tag:d.n,"aria-label":i.a.string,className:i.a.string,cssModule:i.a.object,role:i.a.string,size:i.a.string,vertical:i.a.bool},m=function(e){var t=e.className,a=e.cssModule,s=e.size,c=e.vertical,i=e.tag,l=Object(r.a)(e,["className","cssModule","size","vertical","tag"]),p=Object(d.j)(u()(t,!!s&&"btn-group-"+s,c?"btn-group-vertical":"btn-group"),a);return o.a.createElement(i,Object(n.a)({},l,{className:p}))};m.propTypes=p,m.defaultProps={tag:"div",role:"group"},t.a=m},81:function(e,t,a){"use strict";var n=a(2),r=a(4),s=a(0),o=a.n(s),c=a(1),i=a.n(c),l=a(8),u=a.n(l),d=a(13),p={className:i.a.string,cssModule:i.a.object,size:i.a.string,bordered:i.a.bool,borderless:i.a.bool,striped:i.a.bool,dark:i.a.bool,hover:i.a.bool,responsive:i.a.oneOfType([i.a.bool,i.a.string]),tag:d.n,responsiveTag:d.n,innerRef:i.a.oneOfType([i.a.func,i.a.string,i.a.object])},m=function(e){var t=e.className,a=e.cssModule,s=e.size,c=e.bordered,i=e.borderless,l=e.striped,p=e.dark,m=e.hover,f=e.responsive,h=e.tag,b=e.responsiveTag,g=e.innerRef,v=Object(r.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),_=Object(d.j)(u()(t,"table",!!s&&"table-"+s,!!c&&"table-bordered",!!i&&"table-borderless",!!l&&"table-striped",!!p&&"table-dark",!!m&&"table-hover"),a),y=o.a.createElement(h,Object(n.a)({},v,{ref:g,className:_}));if(f){var S=Object(d.j)(!0===f?"table-responsive":"table-responsive-"+f,a);return o.a.createElement(b,{className:S},y)}return y};m.propTypes=p,m.defaultProps={tag:"table",responsiveTag:"div"},t.a=m},82:function(e,t,a){"use strict";var n=a(2),r=a(4),s=a(0),o=a.n(s),c=a(1),i=a.n(c),l=a(8),u=a.n(l),d=a(13),p={tag:d.n,inverse:i.a.bool,color:i.a.string,body:i.a.bool,outline:i.a.bool,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},m=function(e){var t=e.className,a=e.cssModule,s=e.color,c=e.body,i=e.inverse,l=e.outline,p=e.tag,m=e.innerRef,f=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),h=Object(d.j)(u()(t,"card",!!i&&"text-white",!!c&&"card-body",!!s&&(l?"border":"bg")+"-"+s),a);return o.a.createElement(p,Object(n.a)({},f,{className:h,ref:m}))};m.propTypes=p,m.defaultProps={tag:"div"},t.a=m},83:function(e,t,a){"use strict";var n=a(2),r=a(4),s=a(0),o=a.n(s),c=a(1),i=a.n(c),l=a(8),u=a.n(l),d=a(13),p={tag:d.n,className:i.a.string,cssModule:i.a.object},m=function(e){var t=e.className,a=e.cssModule,s=e.tag,c=Object(r.a)(e,["className","cssModule","tag"]),i=Object(d.j)(u()(t,"card-header"),a);return o.a.createElement(s,Object(n.a)({},c,{className:i}))};m.propTypes=p,m.defaultProps={tag:"div"},t.a=m},84:function(e,t,a){"use strict";var n=a(2),r=a(4),s=a(0),o=a.n(s),c=a(1),i=a.n(c),l=a(8),u=a.n(l),d=a(13),p={tag:d.n,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},m=function(e){var t=e.className,a=e.cssModule,s=e.innerRef,c=e.tag,i=Object(r.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.j)(u()(t,"card-body"),a);return o.a.createElement(c,Object(n.a)({},i,{className:l,ref:s}))};m.propTypes=p,m.defaultProps={tag:"div"},t.a=m},85:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(61),o=a(57);class c extends n.Component{constructor(...e){super(...e),this.columns=[{property:"MealItemIdFK",label:"Meal Item",content:e=>Object(o.g)(e.MealItemIdFK)},{property:"SensitiveContentIdFK",label:"Sensitive Content",content:e=>Object(o.i)(e.SensitiveContentIdFK)}]}render(){const e=this.props,t=e.MealItemSensitivities,a=e.onSort,n=e.sortColumn,o=e.onSelect,c=e.selected,i=e.onView;return r.a.createElement(s.a,{selected:c,columns:this.columns,data:t,sortColumn:n,onSort:a,onSelect:o,onView:i})}}t.a=c},87:function(e,t,a){"use strict";var n=a(2),r=a(4),s=a(14),o=a(3),c=a(0),i=a.n(c),l=a(1),u=a.n(l),d=a(8),p=a.n(d),m=a(13),f={children:u.a.node,type:u.a.string,size:u.a.string,bsSize:u.a.string,valid:u.a.bool,invalid:u.a.bool,tag:m.n,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),plaintext:u.a.bool,addon:u.a.bool,className:u.a.string,cssModule:u.a.object},h=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(s.a)(a)),a.focus=a.focus.bind(Object(s.a)(a)),a}Object(o.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.focus=function(){this.ref&&this.ref.focus()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,s=e.type,o=e.bsSize,c=e.valid,l=e.invalid,u=e.tag,d=e.addon,f=e.plaintext,h=e.innerRef,b=Object(r.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),g=["radio","checkbox"].indexOf(s)>-1,v=new RegExp("\\D","g"),_=u||("select"===s||"textarea"===s?s:"input"),y="form-control";f?(y+="-plaintext",_=u||"input"):"file"===s?y+="-file":g&&(y=d?null:"form-check-input"),b.size&&v.test(b.size)&&(Object(m.o)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),o=b.size,delete b.size);var S=Object(m.j)(p()(t,l&&"is-invalid",c&&"is-valid",!!o&&"form-control-"+o,y),a);return("input"===_||u&&"function"===typeof u)&&(b.type=s),b.children&&!f&&"select"!==s&&"string"===typeof _&&"select"!==_&&(Object(m.o)('Input with a type of "'+s+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete b.children),i.a.createElement(_,Object(n.a)({},b,{ref:h,className:S}))},t}(i.a.Component);h.propTypes=f,h.defaultProps={type:"text"},t.a=h}}]);
//# sourceMappingURL=12.1a9cd9cc.chunk.js.map