(this.webpackJsonpFastFoodStore=this.webpackJsonpFastFoodStore||[]).push([[10],{112:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return m}));var r=a(50),n=a.n(r),s=a(51),o=a(49),c=a(98),l=a(21);function i(e){return u.apply(this,arguments)}function u(){return(u=Object(s.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.clear(),a={UserName:t.username,Password:t.password},e.next=4,o.a.post("".concat("/Login","/Auth2"),a);case 4:r=e.sent,s=r.data,console.log("TCL: SignIn -> data",s),c.a.setToken(s.Token),l.a.setLoginResponse(s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){c.a.removeToken(),l.a.removeLoginResponse()}},238:function(e,t,a){"use strict";var r=a(239);function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!==typeof e)throw new n("Invalid token specified");var a=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[a]))}catch(s){throw new n("Invalid token specified: "+s.message)}},e.exports.InvalidTokenError=n},239:function(e,t,a){var r=a(240);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,t){var a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a})))}(t)}catch(a){return r(t)}}},240:function(e,t){function a(e){this.message=e}a.prototype=new Error,a.prototype.name="InvalidCharacterError",e.exports="undefined"!==typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,s=0,o=0,c="";n=t.charAt(o++);~n&&(r=s%4?64*r+n:n,s++%4)?c+=String.fromCharCode(255&r>>(-2*s&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return c}},241:function(e,t,a){},284:function(e,t,a){"use strict";a.r(t);var r=a(50),n=a.n(r),s=a(51),o=a(0),c=a.n(o),l=a(60),i=a.n(l),u=a(7),m=a(54),d=a(55),p=a(19),h=a(9),f=a(11),g=a(63),b=a(64),v=a(65),E=a(66),w=a(67);class y extends o.Component{constructor(e){var t;super(e),t=this,this.validate=()=>{const e=i.a.validate(this.state.data,this.schema,{abortEarly:!0}).error;return e?e.details.map(e=>({[Object(f.a)(e.path,1)[0]]:e.message})):null},this.validateProperty=({name:e,value:t})=>{const a={[e]:t},r={[e]:this.schema[e]},n=i.a.validate(a,r).error;return n?n.details[0].message:null},this.handleChange=({currentTarget:e})=>{const t=Object(h.a)({},this.state.errors),a=this.validateProperty(e);a?t[e.name]=a:delete t[e.name];const r=Object(h.a)({},this.state.data);r[e.name]=e.value,this.setState({data:r,errors:t})},this.handleDate=(e,t)=>{const a=this.state.data;a[e]=t,this.setState({data:a})},this.handleSubmit=e=>{e.preventDefault();const t=this.validate();this.setState({errors:t||{}}),t||this.doSubmit()},this.handleFileChange=e=>{const t=e.target.files[0];this.setState(Object(h.a)({},this.state.state,{files:t,imgSrc:URL.createObjectURL(t)}))},this.handleFileUpload=function(){var e=Object(s.a)(n.a.mark((function e(a){var r,s,o,c,l,i,u,m;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a.preventDefault(),r=t.state,s=new FormData,o=0;o<r.files.length;o+=1)c=r.files[o],s.append("file",c);return e.next=6,Object(b.a)(s);case 6:l=e.sent,i=l.data,u="Success!",i.success||(u=i.message),(m=t.state).Image=u,t.setState(Object(h.a)({},r,{errors:m,Image:i.Id}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.renderButton=e=>c.a.createElement("button",{type:"submit",disabled:this.validate(),className:"btn btn-primary"},e),this.renderSelect=(e,t,a)=>{const r=this.state,n=r.data,s=r.errors;return c.a.createElement(E.a,{options:a,name:e,label:t,value:n[e],onChange:this.handleChange,error:s[e]})},this.renderInput=(e,t,a="text")=>{const r=this.state,n=r.data,s=r.errors;return"password"===a?c.a.createElement(v.c,{type:a,name:e,label:t,value:n[e],onChange:this.handleChange,error:s[e]}):c.a.createElement(v.d,{type:a,name:e,label:t,value:n[e],onChange:this.handleChange,error:s[e]})},this.renderInlineInput=(e,t,a="text")=>{const r=this.state,n=r.data,s=r.errors;return c.a.createElement(v.b,{type:a,name:e,placeholder:t,value:n[e],onChange:this.handleChange,error:s[e]})},this.renderDatePicker=(e,t,a)=>{const r=this.state.errors;return c.a.createElement(w.a,{name:e,placeholder:t,value:a,onChange:this.handleDate,errors:r[e]})},this.renderImagePicker=e=>{const t=this.state,a=t.errors,r=t.imgSrc;return c.a.createElement(g.a,{imgSrc:r,name:e,onChange:this.handleFileChange,onUpload:this.handleFileUpload,error:a[e]})},this.state={data:{},errors:{}}}}var x=y,k=a(112),I=a(238),S=a.n(I),N=a(98);function O(){try{const e=N.a.getToken();return S()(e)}catch(e){return null}}a(241);t.default=class extends x{constructor(...e){var t;super(...e),t=this,this.state={data:{username:"",password:""},errors:[]},this.schema={username:i.a.string().alphanum().required().label("User Name"),password:i.a.string().required().label("Password")},this.doSubmit=Object(s.a)(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state.data,e.prev=1,e.next=4,Object(k.a)(a);case 4:t.props.history.push("/notfound"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.response&&401===e.t0.response.status&&p.b.error(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))}render(){return O()?c.a.createElement(u.a,{to:"/"}):c.a.createElement("div",{className:".body text-center flex-centered"},c.a.createElement("form",{className:"form-signin",onSubmit:this.handleSubmit},c.a.createElement(m.a,{className:"m-2",size:"5x",icon:d.l,alt:"User Check"}),c.a.createElement("p",{className:"h3 m-2 font-weight-normal"},"Please sign in"),this.renderInput("username","username"),this.renderInput("password","password","password",{required:!0}),c.a.createElement("button",{disabled:this.validate(),className:"btn btn-lg btn-primary btn-block",type:"submit"},"Sign in"),c.a.createElement("div",{className:"checkbox mb-3"},c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",value:"remember-me"})," Remember me"))),c.a.createElement(p.a,null))}}},48:function(e,t,a){"use strict";var r=a(50),n=a.n(r),s=a(51),o=a(11),c=a(0),l=a.n(c),i=a(92);t.a=({defaultText:e,resourceId:t})=>{const a=Object(c.useState)(e),r=Object(o.a)(a,2),u=r[0],m=r[1],d=i.a.getCurrentLocale();return Object(c.useEffect)(()=>{"en-uk"!==d?function(){var a=Object(s.a)(n.a.mark((function a(){var r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.getTranslationForResource(t.replace(/\s+/g,"_"),e);case 2:r=a.sent,m(r);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()(e,t):m(e)},[e,d,t]),l.a.createElement("span",null,u||e)}},49:function(e,t,a){"use strict";a.d(t,"b",(function(){return c}));var r=a(88),n=a.n(r),s=a(19),o=a(58);function c(e){n.a.defaults.headers.common.Authorization="Bearer ".concat(e)}n.a.defaults.baseURL=o.c,n.a.interceptors.response.use(null,e=>(e.response&&e.response.status>=400&&e.response.status<500||(console.error("Error:",e.message),s.b.error(e.message||"Network Error")),Promise.reject(e))),t.a={get:n.a.get,post:n.a.post,patch:n.a.patch,put:n.a.put,delete:n.a.delete,setJwt:c}},58:function(e){e.exports=JSON.parse('{"a":"http://localhost:53621/wapi","b":"http://86.14.11.234/FastFoodStoreWAPI/Odata","c":"http://86.14.11.234/FastFoodStoreWAPI/wapi"}')},63:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(48);t.a=({imgSrc:e,name:t,onChange:a,onUpload:r,error:o})=>n.a.createElement("div",{style:{position:"relative",float:"right",right:0,bottom:120,width:100,height:150}},n.a.createElement("img",{src:e,style:{height:"100px",width:"100px"},alt:e}),n.a.createElement("input",{style:{color:"transparent"},type:"file",name:t,id:t,onChange:a}),n.a.createElement("button",{type:"submit",onClick:r},n.a.createElement(s.a,{defaultText:"Upload",resourceId:"lbl_Upload"})),o&&n.a.createElement("div",{className:"alert alert-danger"},o))},64:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(49),n=a(58);const s="".concat(n.a,"/Image");function o(e){return r.a.post("".concat(s,"/File"),e,{headers:{"content-type":"multipart/form-data"}})}},65:function(e,t,a){"use strict";a.d(t,"a",(function(){return g})),a.d(t,"c",(function(){return b})),a.d(t,"b",(function(){return v}));var r=a(11),n=a(62),s=a(0),o=a.n(s),c=a(156),l=a(256),i=a(257),u=a(258),m=a(87),d=a(54),p=a(55),h=a(48);const f={float:"right",marginTop:"-35px",position:"relative",zIndex:2},g=e=>{let t=e.name,a=e.label,r=e.error,s=Object(n.a)(e,["name","label","error"]);return o.a.createElement("div",{className:"form-group"},o.a.createElement(c.a,null,o.a.createElement(l.a,null,o.a.createElement("label",{htmlFor:t},o.a.createElement(h.a,{defaultText:a,resourceId:a.replace(/\s+/g,"_")}))),o.a.createElement(l.a,null,o.a.createElement("input",Object.assign({},s,{type:"checkbox",id:t,name:t,className:"form-check-input"})))),r&&o.a.createElement("div",{className:"alert alert-danger"},r))},b=e=>{let t=e.name,a=e.label,s=e.error,c=e.type,l=Object(n.a)(e,["name","label","error","type"]);const i=o.a.useState(!1),u=Object(r.a)(i,2),m=u[0],h=u[1],g=m?"text":c;return o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{htmlFor:t,className:"sr-only"},a),o.a.createElement("div",null,o.a.createElement("input",Object.assign({},l,{type:g,id:t,name:t,placeholder:a,className:"form-control"})),"password"===c?o.a.createElement(d.a,{style:f,onClick:()=>h(!m),size:"1x",color:"gray",className:"mr-3",icon:m?p.c:p.b}):null),s&&o.a.createElement("div",{className:"alert alert-danger"},s))},v=e=>{let t=e.name,a=e.placeholder,r=e.error,s=Object(n.a)(e,["name","placeholder","error"]);return o.a.createElement(i.a,null,o.a.createElement(u.a,{htmlFor:t,hidden:!0},o.a.createElement(h.a,{defaultText:a,resourceId:a.replace(/\s+/g,"_")})),o.a.createElement(m.a,Object.assign({},s,{type:"text",name:t,id:t,placeholder:a})),r&&o.a.createElement("div",{className:"alert alert-danger"},r))};t.d=e=>{let t=e.name,a=e.label,r=e.error,s=Object(n.a)(e,["name","label","error"]);return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:t},o.a.createElement(h.a,{defaultText:a,resourceId:a.replace(/\s+/g,"_")})),o.a.createElement("input",Object.assign({},s,{id:t,name:t,className:"form-control"})),r&&o.a.createElement("div",{className:"alert alert-danger"},r))}},66:function(e,t,a){"use strict";var r=a(62),n=a(0),s=a.n(n),o=a(48);t.a=e=>{let t=e.name,a=e.label,n=e.options,c=e.error,l=Object(r.a)(e,["name","label","options","error"]);return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:t},s.a.createElement(o.a,{defaultText:a,resourceId:a.replace(/\s+/g,"_")})),s.a.createElement("select",Object.assign({},l,{id:t,name:t,className:"form-control"}),s.a.createElement("option",{value:"0"},"...select..."),n.map(e=>s.a.createElement("option",{key:e.Id,value:e.Id},e.Name))),c&&s.a.createElement("div",{className:"alert alert-danger"},c))}},67:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(73),o=a.n(s),c=a(48);class l extends r.Component{constructor(...e){super(...e),this.setDate=e=>{this.props.onChange(this.props.name,e)}}render(){const e=this.props,t=e.name,a=e.placeholder,r=e.value,s=e.error;return n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:t},n.a.createElement(c.a,{defaultText:a,resourceId:a.replace(/\s+/g,"_")})),n.a.createElement(o.a,{id:t,name:t,selected:r,onChange:this.setDate,className:"form-control"}),s&&n.a.createElement("div",{className:"alert alert-danger"},s))}}t.a=l},92:function(e,t,a){"use strict";var r=a(50),n=a.n(r),s=a(51),o=a(49);const c="http://86.14.11.234/TranslationManagementWAPI/wapi";let l="en-uk";function i(){return o.a.get("".concat(c,"/locale/locales"))}function u(){const e=localStorage.getItem("__locales__");return JSON.parse(e)}function m(e){return localStorage.setItem("__locales__",JSON.stringify(e)),e}function d(){return(d=Object(s.a)(n.a.mark((function e(t,a){var r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(t)){e.next=7;break}return e.next=4,h(a,t,l);case 4:r=e.sent,g(r.data.Result);case 7:return s=f(t),e.abrupt("return",s&&s.Translated?s.TranslatedText:a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(s.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u()){e.next=7;break}return e.next=4,i();case 4:a=e.sent,r=a.data,t=m(r.Result);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,a){const r="".concat(c,"/LocalResouce/TranslationsByLocale?systemName=defaultSystem&moduleName=defaultModule&localeId=").concat(a,"&englishText=").concat(e,"&resourceId=").concat(t);return o.a.post(r)}function f(e){const t=localStorage.getItem("".concat(e,"_").concat(l));return JSON.parse(t)}function g(e){e&&e.length&&e.forEach(e=>{localStorage.setItem("".concat(e.ResourceId,"_").concat(e.LocaleId),JSON.stringify(e))})}t.a={getLocales:function(){return p.apply(this,arguments)},getTranslationForResource:function(e,t){return d.apply(this,arguments)},setCurrentLocale:function(e){l=e},getCurrentLocale:function(){return l}}},98:function(e,t,a){"use strict";var r=a(12);t.a={setToken:function(e){r.a.setCache("__token__",e)},getToken:function(){return r.a.getCache("__token__")},removeToken:function(){r.a.removeCache("__token__")}}}}]);
//# sourceMappingURL=10.6be10256.chunk.js.map