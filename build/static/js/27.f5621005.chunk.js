(this.webpackJsonpFastFoodStore=this.webpackJsonpFastFoodStore||[]).push([[27],{114:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(61),o=a(57);class l extends r.Component{constructor(...e){super(...e),this.columns=[{property:"MealBoxIdFK",label:"Meal Box",content:e=>Object(o.e)(e.MealBoxIdFK)},{property:"MealItemIdFK",label:"Meal Item",content:e=>Object(o.g)(e.MealItemIdFK)},{property:"Quantity",label:"Quantity"}]}render(){const e=this.props,t=e.MealBoxItems,a=e.onSort,r=e.sortColumn,o=e.onSelect,l=e.selected,i=e.onView;return n.a.createElement(s.a,{selected:l,columns:this.columns,data:t,show:"false",sortColumn:r,onSort:a,onSelect:o,onView:i})}}t.a=l},287:function(e,t,a){"use strict";a.r(t);var r=a(50),n=a.n(r),s=a(9),o=a(51),l=a(0),i=a.n(l),c=a(60),u=a.n(c),d=a(19),p=a(156),m=a(256),h=a(69),x=a(149),I=a(152),b=a(82),M=a(84),B=a(53),f=a.n(B),C=a(70),S=a(59),g=a(77),v=a(114),w=a(57);class P extends l.Component{constructor(e){var t;super(e),t=this,this.handleDelete=function(){var e=Object(o.a)(n.a.mark((function e(a){var r,s,o,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state.MealBoxItems,s=t.state.MealBoxItems.filter(e=>e.Id!==a),t.setState({MealBoxItems:s}),e.next=5,Object(g.a)(a);case 5:o=e.sent,(l=o.data).status>=400&&l.status<500&&t.setState({MealBoxItems:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handleTrackChanges=e=>{this.props.history.push("changes_list/mealBoxItem/".concat(e))},this.handlePageChange=e=>{this.setState({currentPage:e})},this.handleSort=e=>{this.setState({sortColumn:e})},this.handleSelect=e=>{this.setState({selected:e})},this.handleEdit=e=>{this.props.history.push("MealBoxItem_list/".concat(e))},this.handleAdd=()=>{this.props.history.push("MealBoxItem_list/new")},this.handleView=e=>{this.props.history.push("MealBoxItem_list/view".concat(e,"&"))},this.handleSearch=e=>{const t=e.toLowerCase().split(" ").map(e=>e.split(":"));console.log("".concat(t[0][0],":").concat(t[0][1])),console.log("".concat(t[1][0],":").concat(t[1][1]))},this.getPagedData=()=>{const e=this.state,t=e.pageSize,a=e.currentPage,r=e.sortColumn,n=e.MealBoxItems,s=f.a.orderBy(n,[r.property],[r.order]),o=Object(S.a)(s,a,t);return{totalCount:n.length,data:o}},this.state={MealBoxItems:[],pageSize:10,currentPage:1,selected:-1,sortColumn:{property:"Id",order:"asc"}}}componentDidMount(){var e=this;return Object(o.a)(n.a.mark((function t(){var a,r,s,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(w.f)(),Object(w.d)(),t.next=4,Object(g.c)();case 4:a=t.sent,r=a.data,s=[...r.Result],console.log("TCL: MealBoxItemsListView -> componentDidMount -> this.props.mealBoxId",e.props.mealBoxId),console.log("TCL: MealBoxItemsListView -> componentDidMount -> response.Result",r.Result),o=s.filter(t=>t.MealBoxIdFK===e.props.mealBoxId),console.log("TCL: MealBoxItemsListView -> componentDidMount -> MealItems",o),e.setState({MealBoxItems:o});case 12:case"end":return t.stop()}}),t)})))()}filteredResult(){var e=this;return Object(o.a)(n.a.mark((function t(){var a,r,o,l;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.allMealBoxItems,r=Object(s.a)({},a),t.next=4,e.getOrders();case 4:o=t.sent,l=o.data,r=l.value,e.setState({mealBoxItems:r});case 8:case"end":return t.stop()}}),t)})))()}render(){const e=this.state,t=e.pageSize,a=e.currentPage,r=e.sortColumn,n=e.selected,s=this.getPagedData(),o=s.totalCount,l=s.data;return i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a,null,i.a.createElement(M.a,null,i.a.createElement(v.a,{MealBoxItems:l,selected:n,sortColumn:r,onSort:this.handleSort,onView:this.handleView,onDelete:this.handleDelete,onExport:this.handleExport,onSelect:this.handleSelect})),i.a.createElement(C.a,{itemsCount:o||0,pageSize:t,currentPage:a,onPageChange:this.handlePageChange})))}}var O=P,F=a(75),E=a(48);class T extends h.a{constructor(...e){var t;super(...e),t=this,this.state={data:{CustomerId:"",MealBoxTitle:"",Description:"",MealBoxPrice:"",TotalCalories:"",PersonCount:"",IsKidMeal:"",MealBoxOffer:"",Protien:"",Fat:"",Fiber:"",SpiceLevel:""},MealBoxIdFKs:[],Lavels:[],YesNoWordList:[],errors:{}},this.schema={Id:u.a.any().label("Id"),CustomerId:u.a.number().required().label("Customer Id"),MealBoxTitle:u.a.string().allow(""),Description:u.a.string().allow(""),MealBoxPrice:u.a.number().required().label("Meal Box Price"),TotalCalories:u.a.number().required().label("Total Calories"),PersonCount:u.a.number().required().label("Person Count"),MealBoxOffer:u.a.number().required().label("Meal Box Offer"),IsKidMeal:u.a.bool().required().label("Is Kid Meal"),Protien:u.a.number().required().label("Protien"),Fat:u.a.number().required().label("Fat"),Fiber:u.a.number().required().label("Fiber"),SpiceLevel:u.a.number().required().label("SpiceLevel")},this.mapToViewModel=e=>({Id:e.Id,CustomerId:e.CustomerId,MealBoxTitle:e.MealBoxTitle,Description:e.Description,MealBoxPrice:e.MealBoxPrice,TotalCalories:e.TotalCalories,PersonCount:e.PersonCount,IsKidMeal:e.IsKidMeal,MealBoxOffer:e.MealBoxOffer,Protien:e.Protien,Fat:e.Fat,Fiber:e.Fiber,SpiceLevel:e.SpiceLevel}),this.doSubmit=Object(o.a)(n.a.mark((function e(){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state.data,r=Object(s.a)({},a),e.prev=2,e.next=5,Object(F.d)(r);case 5:t.props.history.push("/mealBox_list"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),d.b.error(e.t0.message||e.t0.response.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))}componentDidMount(){var e=this;return Object(o.a)(n.a.mark((function t(){var a,r,s,o,l,i,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(w.b)(),r=Object(w.a)(),s=e.props.match.params.id,e.setState({Imported:a,Lavels:r}),!s.startsWith("view")){t.next=13;break}if(o=s.substring(4),!s.endsWith("&")){t.next=11;break}return t.next=10,Object(F.b)(o);case 10:l=t.sent;case 11:return e.setState({data:e.mapToViewModel(l.data.Result)}),t.abrupt("return");case 13:if("new"!==s){t.next=15;break}return t.abrupt("return");case 15:return t.next=17,Object(F.b)(s);case 17:i=t.sent,c=i.data,e.setState({data:e.mapToViewModel(c.Result)});case 20:case"end":return t.stop()}}),t)})))()}render(){const e=this.state.Lavels,t=this.props.match.params.id,a=t.startsWith("view"),r="new"===t?"Create":"Update";return i.a.createElement("div",null,i.a.createElement("h1",null,!a&&i.a.createElement(E.a,{defaultText:r,resourceId:"lbl_".concat(r)}),i.a.createElement(E.a,{defaultText:" Meal Box",resourceId:"lbl_MealBox"})),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement(p.a,null,i.a.createElement(m.a,null,this.renderInput("CustomerId","Customer Id"),this.renderInput("MealBoxTitle","Meal Box Title"),this.renderInput("Description","Description"),this.renderInput("MealBoxPrice","Meal Box Price"),this.renderInput("TotalCalories","Total Calories"),this.renderInput("PersonCount","Person Count")),i.a.createElement(m.a,null,this.renderCheckBox("IsKidMeal","Is Kid Meal"),this.renderSelect("Protien","Protien",e),this.renderSelect("Fat","Fat",e),this.renderSelect("Fiber","Fiber",e),this.renderSelect("SpiceLevel","SpiceLevel",e),this.renderInput("MealBoxOffer","Meal Box Offer"),a?null:this.renderButton("Save")))),"Update"===r&&i.a.createElement(p.a,null,i.a.createElement(m.a,null,i.a.createElement(O,{mealBoxId:t})),i.a.createElement(m.a,null,!a&&i.a.createElement(I.a,Object.assign({},this.props,{RecordId:t,ModuleName:"MealBox"}))),i.a.createElement(m.a,null,!a&&i.a.createElement(x.a,Object.assign({},this.props,{path:"mealBox_list",RecordId:t,ModuleName:"MealBox"})))))}}t.default=T},77:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return l}));var r=a(49);function n(){return r.a.get("".concat("/MealBoxItem","/MealBoxItems"))}function s(e){return r.a.get("".concat("/MealBoxItem","/ById?Id=").concat(e))}function o(e){return r.a.get("".concat("/MealBoxItem","/Delete?Id=").concat(e))}function l(e){return r.a.post("".concat("/MealBoxItem","/Create"),e)}}}]);
//# sourceMappingURL=27.f5621005.chunk.js.map