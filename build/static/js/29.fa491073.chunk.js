(this.webpackJsonpFastFoodStore=this.webpackJsonpFastFoodStore||[]).push([[29],{115:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return i}));var r=a(49);function n(){return r.a.get("".concat("/MealItem","/MealItems"))}function s(e){return r.a.get("".concat("/MealItem","/ById?Id=").concat(e))}function l(e){return r.a.get("".concat("/MealItem","/Delete?Id=").concat(e))}function i(e){return r.a.post("".concat("/MealItem","/Create"),e)}},274:function(e,t,a){"use strict";a.r(t);var r=a(11),n=a(50),s=a.n(n),l=a(9),i=a(51),c=a(0),o=a.n(c),m=a(60),u=a.n(m),d=a(156),I=a(256),p=a(88),b=a.n(p),h=a(19),_=a(69),C=a(149),g=a(152),v=a(115),f=a(57),S=a(48);class w extends _.a{constructor(...e){var t;super(...e),t=this,this.state={data:{Id:"",CustomerId:"",SpiceLevelIdFK:"",ItemCategoryIdFK:"",ItemName:"",ItemPrice:"",CaloriesCount:"",Description:"",IsVegetarian:"",IsHalal:""},spicelevels:[],Lavels:[],itemcategories:[],Imported:[],errors:{}},this.schema={Id:u.a.any().label("Id"),CustomerId:u.a.number().required().label("Customer Id"),SpiceLevelIdFK:u.a.number().required().label("Spice Level Id F K"),ItemCategoryIdFK:u.a.number().required().label("Item Category Id F K"),ItemName:u.a.string().allow(""),ItemPrice:u.a.number().required().label("Item Price"),CaloriesCount:u.a.number().required().label("Calories Count"),Description:u.a.string().allow(""),IsVegetarian:u.a.bool().allow(""),IsHalal:u.a.bool().allow("")},this.mapToViewModel=e=>({Id:e.Id,CustomerId:e.CustomerId,SpiceLevelIdFK:e.SpiceLevelIdFK,ItemCategoryIdFK:e.ItemCategoryIdFK,ItemName:e.ItemName,ItemPrice:e.ItemPrice,CaloriesCount:e.CaloriesCount,Description:e.Description,IsVegetarian:e.IsVegetarian,IsHalal:e.IsHalal}),this.doSubmit=Object(i.a)(s.a.mark((function e(){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state.data,r=Object(l.a)({},a),e.prev=2,e.next=5,Object(v.d)(r);case 5:t.props.history.push("/mealItem_list"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),h.b.error(e.t0.message||e.t0.response.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))}componentDidMount(){var e=this;return Object(i.a)(s.a.mark((function t(){var a,n,l,i,c,o,m,u,d,I;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(f.b)(),"____itemcategories____","____spicelevels____",localStorage.removeItem("____itemcategories____"),localStorage.removeItem("____spicelevels____"),n=e.props.match.params.id,t.next=8,b.a.all([Object(f.c)(),Object(f.j)()]);case 8:if(l=t.sent,i=Object(r.a)(l,2),c=i[0],o=i[1],e.setState({Lavels:o,Imported:a,itemcategories:c}),!n.startsWith("view")){t.next=22;break}if(m=n.substring(4),!n.endsWith("&")){t.next=20;break}return t.next=19,Object(v.b)(m);case 19:u=t.sent;case 20:return e.setState({data:e.mapToViewModel(u.data.Result)}),t.abrupt("return");case 22:if("new"!==n){t.next=24;break}return t.abrupt("return");case 24:return t.next=26,Object(v.b)(n);case 26:d=t.sent,I=d.data,e.setState({data:e.mapToViewModel(I.Result)});case 29:case"end":return t.stop()}}),t)})))()}render(){const e=this.state,t=(e.data,e.Imported,e.Lavels),a=e.itemcategories,r=this.props.match.params.id,n=r.startsWith("view"),s="new"===r?"Create":"Update";return o.a.createElement("div",null,o.a.createElement("h1",null,!n&&o.a.createElement(S.a,{defaultText:s,resourceId:"lbl_".concat(s)}),o.a.createElement(S.a,{defaultText:" Meal Item",resourceId:"lbl_MealItem"})),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement(d.a,null,o.a.createElement(I.a,null,this.renderInput("CustomerId","Customer Id"),this.renderInput("ItemName","Item Name"),this.renderInput("ItemPrice","Item Price"),this.renderInput("CaloriesCount","Calories Count")),o.a.createElement(I.a,null,this.renderInput("Description","Description"),this.renderCheckBox("IsVegetarian","Is Vegetarian"),this.renderCheckBox("IsHalal","Is Halal"),this.renderSelect("SpiceLevelIdFK","Spice Level",t),this.renderSelect("ItemCategoryIdFK","Item Category",a),this.renderButton("Save")))),"Update"===s&&o.a.createElement(d.a,null,o.a.createElement(I.a,null,!n&&o.a.createElement(g.a,Object.assign({},this.props,{RecordId:r,ModuleName:"mealItem"}))),o.a.createElement(I.a,null,!n&&o.a.createElement(C.a,Object.assign({},this.props,{RecordId:r,path:"mealItem_list",ModuleName:"mealItem"})))))}}t.default=w}}]);
//# sourceMappingURL=29.fa491073.chunk.js.map