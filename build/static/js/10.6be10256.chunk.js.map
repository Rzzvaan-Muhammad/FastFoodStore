{"version":3,"sources":["services/authService.js","../node_modules/jwt-decode/lib/index.js","../node_modules/jwt-decode/lib/base64_url_decode.js","../node_modules/jwt-decode/lib/atob.js","common/form.jsx","utils/jwtUtils.js","components/loginForm.jsx","common/translateText.jsx","services/httpService.js","common/imageInput.jsx","services/imageServices.js","common/input.jsx","common/select.jsx","common/dateInput.jsx","services/translationServices.js","utils/tokenUtils.js"],"names":["SignIn","auth","a","localStorage","clear","credentials","UserName","username","Password","password","http","post","data","console","log","tokenUtil","setToken","Token","loginUtil","setLoginResponse","SignOut","removeToken","removeLoginResponse","base64_url_decode","require","InvalidTokenError","message","this","prototype","Error","name","module","exports","token","options","pos","header","JSON","parse","split","e","atob","str","output","replace","length","decodeURIComponent","m","p","code","charCodeAt","toString","toUpperCase","b64DecodeUnicode","err","InvalidCharacterError","window","bind","input","String","bs","buffer","bc","idx","charAt","fromCharCode","indexOf","Form","Component","constructor","props","super","validate","error","Joi","state","schema","abortEarly","details","map","x","path","validateProperty","value","obj","handleChange","currentTarget","errors","errorMessage","setState","handleDate","date","handleSubmit","preventDefault","doSubmit","handleFileChange","files","target","imgSrc","URL","createObjectURL","handleFileUpload","form","FormData","index","element","append","saveImage","success","Image","Id","renderButton","label","type","disabled","className","renderSelect","onChange","renderInput","renderInlineInput","placeholder","renderDatePicker","renderImagePicker","onUpload","getCurrentUser","jwt","getToken","jwtDecode","ex","LoginForm","string","alphanum","required","history","push","response","status","toast","render","to","onSubmit","size","icon","faUser","alt","TranslateText","defaultText","resourceId","useState","translatedText","setTranslatedText","localeId","tService","getCurrentLocale","useEffect","getTranslationForResource","Text","translateText","setJwt","axios","defaults","headers","common","Authorization","baseURL","serverURL","interceptors","use","Promise","reject","get","patch","put","delete","ImageInput","style","position","float","right","bottom","width","height","src","color","id","onClick","imageUrl","Url","fieldIcon","marginTop","zIndex","CheckBox","rest","htmlFor","PasswordInput","React","isVisible","setIsVisible","textType","faEyeSlash","faEye","InlineInput","hidden","Input","Select","option","key","Name","DateInput","setDate","selected","ApiEndpoint","CurrentLocaleId","getLocalesFromAPI","getLocalesFromCache","item","getItem","setLocalesIntoCache","setItem","stringify","getResourceFromCache","getResourceTranslationsFromAPI","setResourcesTranslationsIntoCache","Result","translation","Translated","TranslatedText","locales","resourceEndpoint","translations","forEach","ResourceId","LocaleId","getLocales","setCurrentLocale","currentlocaleId","cacheUtil","setCache","getCache","removeCache"],"mappings":"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","file":"static/js/10.6be10256.chunk.js","sourcesContent":["import http, { setJwt } from \"./httpService\";\r\nimport tokenUtil from \"../utils/tokenUtils\";\r\nimport loginUtil from \"../utils/loginUtils\";\r\n\r\nconst endpoint = \"/Login\";\r\n\r\nexport async function SignIn(auth) {\r\n  localStorage.clear();\r\n  const credentials = { UserName: auth.username, Password: auth.password };\r\n  const { data } = await http.post(`${endpoint}/Auth2`, credentials);\r\n  console.log(\"TCL: SignIn -> data\", data);\r\n  tokenUtil.setToken(data.Token);\r\n  loginUtil.setLoginResponse(data);\r\n}\r\n\r\nfunction SignInWithJWT(jwt) {\r\n  // It will be used in the registration or signup\r\n  tokenUtil.setToken(jwt);\r\n  setJwt(jwt);\r\n}\r\n\r\nexport function SignOut() {\r\n  tokenUtil.removeToken();\r\n  loginUtil.removeLoginResponse();\r\n}\r\n\r\nexport default {\r\n  SignOut,\r\n  SignIn,\r\n  SignInWithJWT\r\n};\r\n","'use strict';\n\nvar base64_url_decode = require('./base64_url_decode');\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n","var atob = require('./atob');\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n","import React, { Component } from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport ImageInput from \"./imageInput\";\r\nimport { saveImage } from \"../services/imageServices\";\r\nimport Input, { PasswordInput, InlineInput } from \"./input\";\r\nimport Select from \"./select\";\r\nimport DateInput from \"./dateInput\";\r\n\r\nclass Form extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: {},\r\n      errors: {}\r\n    };\r\n  }\r\n\r\n  validate = () => {\r\n    const options = { abortEarly: true };\r\n    const { error } = Joi.validate(this.state.data, this.schema, options);\r\n    if (!error) return null;\r\n\r\n    const errors = error.details.map(x => {\r\n      const [i] = x.path;\r\n      return { [i]: x.message };\r\n    });\r\n    return errors;\r\n  };\r\n\r\n  validateProperty = ({ name, value }) => {\r\n    const obj = { [name]: value };\r\n    const schema = { [name]: this.schema[name] };\r\n    const { error } = Joi.validate(obj, schema);\r\n    return error ? error.details[0].message : null;\r\n  };\r\n\r\n  handleChange = ({ currentTarget: input }) => {\r\n    const errors = { ...this.state.errors };\r\n    const errorMessage = this.validateProperty(input);\r\n    if (errorMessage) errors[input.name] = errorMessage;\r\n    else delete errors[input.name];\r\n\r\n    const data = { ...this.state.data };\r\n    data[input.name] = input.value;\r\n    this.setState({ data, errors });\r\n  };\r\n\r\n  handleDate = (name, date) => {\r\n    const { data } = this.state;\r\n    data[name] = date;\r\n    this.setState({\r\n      data\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault(); // prevent the default page reload behaviour of form\r\n\r\n    const errors = this.validate();\r\n    this.setState({ errors: errors || {} });\r\n    if (errors) return; // don't proceed with form submission\r\n\r\n    this.doSubmit();\r\n  };\r\n\r\n  handleFileChange = e => {\r\n    const files = e.target.files[0];\r\n    this.setState({\r\n      ...this.state.state,\r\n      files,\r\n      imgSrc: URL.createObjectURL(files)\r\n    });\r\n  };\r\n\r\n  handleFileUpload = async e => {\r\n    e.preventDefault();\r\n    const { state } = this;\r\n    const form = new FormData();\r\n    for (let index = 0; index < state.files.length; index += 1) {\r\n      const element = state.files[index];\r\n      form.append(\"file\", element);\r\n    }\r\n    const { data } = await saveImage(form);\r\n    let message = \"Success!\";\r\n    if (!data.success) {\r\n      message = data.message;\r\n    }\r\n    const errors = this.state;\r\n    errors.Image = message;\r\n    this.setState({\r\n      ...state,\r\n      errors,\r\n      Image: data.Id\r\n    });\r\n  };\r\n\r\n  renderButton = label => {\r\n    return (\r\n      <button type=\"submit\" disabled={this.validate()} className=\"btn btn-primary\">\r\n        {label}\r\n      </button>\r\n    );\r\n  };\r\n\r\n  renderSelect = (name, label, options) => {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <Select\r\n        options={options}\r\n        name={name}\r\n        label={label}\r\n        value={data[name]}\r\n        onChange={this.handleChange}\r\n        error={errors[name]}\r\n      />\r\n    );\r\n  };\r\n\r\n  renderInput = (name, label, type = \"text\") => {\r\n    const { data, errors } = this.state;\r\n    if (type === \"password\")\r\n      return (\r\n        <PasswordInput\r\n          type={type}\r\n          name={name}\r\n          label={label}\r\n          value={data[name]}\r\n          onChange={this.handleChange}\r\n          error={errors[name]}\r\n        />\r\n      );\r\n    return (\r\n      <Input\r\n        type={type}\r\n        name={name}\r\n        label={label}\r\n        value={data[name]}\r\n        onChange={this.handleChange}\r\n        error={errors[name]}\r\n      />\r\n    );\r\n  };\r\n\r\n  renderInlineInput = (name, placeholder, type = \"text\") => {\r\n    const { data, errors } = this.state;\r\n    return (\r\n      <InlineInput\r\n        type={type}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        value={data[name]}\r\n        onChange={this.handleChange}\r\n        error={errors[name]}\r\n      />\r\n    );\r\n  };\r\n\r\n  renderDatePicker = (name, placeholder, value) => {\r\n    const { errors } = this.state;\r\n    return (\r\n      <DateInput name={name} placeholder={placeholder} value={value} onChange={this.handleDate} errors={errors[name]} />\r\n    );\r\n  };\r\n\r\n  renderImagePicker = name => {\r\n    const { errors, imgSrc } = this.state;\r\n    return (\r\n      <ImageInput\r\n        imgSrc={imgSrc}\r\n        name={name}\r\n        onChange={this.handleFileChange}\r\n        onUpload={this.handleFileUpload}\r\n        error={errors[name]}\r\n      />\r\n    );\r\n  };\r\n}\r\n\r\nexport default Form;\r\n","import jwtDecode from \"jwt-decode\";\r\nimport tokenUtil from \"./tokenUtils\";\r\n\r\nexport function getCurrentUser() {\r\n  try {\r\n    const jwt = tokenUtil.getToken();\r\n    return jwtDecode(jwt);\r\n  } catch (ex) {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport function isAdminUser() {\r\n  const user = getCurrentUser();\r\n  if (user && user.role === \"Admin\") return true;\r\n\r\n  return false;\r\n}\r\n\r\nexport function getUserId() {\r\n  const user = getCurrentUser();\r\n  if (user && user.user_id) return user.user_id;\r\n\r\n  return 0;\r\n}\r\n\r\nexport function getUserName() {\r\n  const user = getCurrentUser();\r\n  if (user && user.unique_name) return user.unique_name;\r\n\r\n  return null;\r\n}\r\n\r\nexport default {\r\n  getCurrentUser,\r\n  isAdminUser,\r\n  getUserName,\r\n  getUserId\r\n};\r\n","import React from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport Form from \"../common/form\";\r\n// import AppRouter from \"../appRoutes\";\r\nimport { SignIn } from \"../services/authService\";\r\nimport { getCurrentUser } from \"../utils/jwtUtils\";\r\nimport \"../styles/signin.css\";\r\n\r\nclass LoginForm extends Form {\r\n  state = {\r\n    data: {\r\n      username: \"\",\r\n      password: \"\"\r\n    },\r\n    errors: []\r\n  };\r\n\r\n  schema = {\r\n    username: Joi.string()\r\n      .alphanum()\r\n      .required()\r\n      .label(\"User Name\"),\r\n    password: Joi.string()\r\n      .required()\r\n      .label(\"Password\")\r\n  };\r\n\r\n  doSubmit = async () => {\r\n    const { data } = this.state;\r\n    try {\r\n      await SignIn(data);\r\n      // this.props.history.replace(\"./appRoutes\");\r\n      // alert(\"signin successfully\");\r\n      this.props.history.push(\"/notfound\");\r\n      // this.props.history.push(\"/expenseItem_list\");\r\n    } catch (e) {\r\n      if (e.response && e.response.status === 401) toast.error(e.response.data);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (getCurrentUser()) return <Redirect to=\"/\" />;\r\n    return (\r\n      <div className=\".body text-center flex-centered\">\r\n        <form className=\"form-signin\" onSubmit={this.handleSubmit}>\r\n          <FontAwesomeIcon className=\"m-2\" size=\"5x\" icon={faUser} alt=\"User Check\" />\r\n          <p className=\"h3 m-2 font-weight-normal\">Please sign in</p>\r\n          {this.renderInput(\"username\", \"username\")}\r\n          {this.renderInput(\"password\", \"password\", \"password\", {\r\n            required: true\r\n          })}\r\n          <button disabled={this.validate()} className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">\r\n            Sign in\r\n          </button>\r\n          <div className=\"checkbox mb-3\">\r\n            <label>\r\n              <input type=\"checkbox\" value=\"remember-me\" /> Remember me\r\n            </label>\r\n          </div>\r\n        </form>\r\n        <ToastContainer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport tService from \"../services/translationServices\";\r\n\r\nconst TranslateText = ({ defaultText, resourceId }) => {\r\n  const [translatedText, setTranslatedText] = useState(defaultText);\r\n  const localeId = tService.getCurrentLocale();\r\n  useEffect(() => {\r\n    const translateText = async () => {\r\n      const Text = await tService.getTranslationForResource(\r\n        resourceId.replace(/\\s+/g, \"_\"),\r\n        defaultText\r\n      );\r\n\r\n      setTranslatedText(Text);\r\n    };\r\n    if (localeId !== \"en-uk\") translateText(defaultText, resourceId);\r\n    else setTranslatedText(defaultText);\r\n  }, [defaultText, localeId, resourceId]);\r\n  return <span>{translatedText || defaultText}</span>;\r\n};\r\n\r\nexport default TranslateText;\r\n","import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { serverURL } from \"../config.json\";\r\n\r\naxios.defaults.baseURL = serverURL;\r\n\r\naxios.interceptors.response.use(null, error => {\r\n  const ExpectedError = error.response && error.response.status >= 400 && error.response.status < 500;\r\n\r\n  if (!ExpectedError) {\r\n    console.error(\"Error:\", error.message);\r\n    toast.error(error.message || \"Network Error\");\r\n  }\r\n\r\n  return Promise.reject(error);\r\n});\r\n\r\nexport function setJwt(jwt) {\r\n  axios.defaults.headers.common.Authorization = `Bearer ${jwt}`;\r\n}\r\n\r\nexport default {\r\n  get: axios.get,\r\n  post: axios.post,\r\n  patch: axios.patch,\r\n  put: axios.put,\r\n  delete: axios.delete,\r\n  setJwt\r\n};\r\n","import React from \"react\";\r\nimport TranslateText from \"./translateText\";\r\n\r\nconst ImageInput = ({ imgSrc, name, onChange, onUpload, error }) => (\r\n  <div\r\n    style={{\r\n      position: \"relative\",\r\n      float: \"right\",\r\n      right: 0,\r\n      bottom: 120,\r\n      width: 100,\r\n      height: 150\r\n    }}\r\n  >\r\n    <img\r\n      src={imgSrc}\r\n      style={{ height: \"100px\", width: \"100px\" }}\r\n      alt={imgSrc}\r\n    />\r\n    <input\r\n      style={{ color: \"transparent\" }}\r\n      type=\"file\"\r\n      name={name}\r\n      id={name}\r\n      onChange={onChange}\r\n    />\r\n    <button type=\"submit\" onClick={onUpload}>\r\n      <TranslateText defaultText=\"Upload\" resourceId=\"lbl_Upload\" />\r\n    </button>\r\n    {error && <div className=\"alert alert-danger\">{error}</div>}\r\n  </div>\r\n);\r\nexport default ImageInput;\r\n","import http from \"./httpService\";\r\nimport { localURL as Url } from \"../config.json\";\r\n\r\nconst imageUrl = `${Url}/Image`;\r\n\r\nexport function getImages() {\r\n  return http.get(`${imageUrl}/Images`);\r\n}\r\n\r\nexport function getImage(id) {\r\n  return http.get(`${imageUrl}/byId?Id=${id}`);\r\n}\r\n\r\nexport function deleteImage(id) {\r\n  return http.get(`${imageUrl}/Delete?Id=${id}`);\r\n}\r\n\r\nexport function saveImage(form) {\r\n  return http.post(`${imageUrl}/File`, form, {\r\n    headers: {\r\n      \"content-type\": \"multipart/form-data\"\r\n    }\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport { FormGroup, Label, Input as InputStrap, Row, Col } from \"reactstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faEye, faEyeSlash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport TranslateText from \"./translateText\";\r\n\r\nconst fieldIcon = {\r\n  float: \"right\",\r\n  marginTop: \"-35px\",\r\n  position: \"relative\",\r\n  zIndex: 2\r\n};\r\nconst Input = ({ name, label, error, ...rest }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name}>\r\n        <TranslateText defaultText={label} resourceId={label.replace(/\\s+/g, \"_\")} />\r\n      </label>\r\n      <input {...rest} id={name} name={name} className=\"form-control\" />\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const CheckBox = ({ name, label, error, ...rest }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <Row>\r\n        <Col>\r\n          <label htmlFor={name}>\r\n            <TranslateText defaultText={label} resourceId={label.replace(/\\s+/g, \"_\")} />\r\n          </label>\r\n        </Col>\r\n        <Col>\r\n          <input {...rest} type=\"checkbox\" id={name} name={name} className=\"form-check-input\" />\r\n        </Col>\r\n      </Row>\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\nexport const PasswordInput = ({ name, label, error, type, ...rest }) => {\r\n  const [isVisible, setIsVisible] = React.useState(false);\r\n  const textType = isVisible ? \"text\" : type;\r\n  return (\r\n    <>\r\n      <label htmlFor={name} className=\"sr-only\">\r\n        {label}\r\n      </label>\r\n      <div>\r\n        <input {...rest} type={textType} id={name} name={name} placeholder={label} className=\"form-control\" />\r\n        {type === \"password\" ? (\r\n          <FontAwesomeIcon\r\n            style={fieldIcon}\r\n            onClick={() => setIsVisible(!isVisible)}\r\n            size=\"1x\"\r\n            color=\"gray\"\r\n            className=\"mr-3\"\r\n            icon={isVisible ? faEyeSlash : faEye}\r\n          />\r\n        ) : null}\r\n      </div>\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n    </>\r\n  );\r\n};\r\nexport const InlineInput = ({ name, placeholder, error, ...rest }) => {\r\n  return (\r\n    <FormGroup>\r\n      <Label htmlFor={name} hidden>\r\n        <TranslateText defaultText={placeholder} resourceId={placeholder.replace(/\\s+/g, \"_\")} />\r\n      </Label>\r\n      <InputStrap {...rest} type=\"text\" name={name} id={name} placeholder={placeholder} />\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n    </FormGroup>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React from \"react\";\r\nimport TranslateText from \"./translateText\";\r\n\r\nconst Select = ({ name, label, options, error, ...rest }) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name}>\r\n        <TranslateText defaultText={label} resourceId={label.replace(/\\s+/g, \"_\")} />\r\n      </label>\r\n      <select {...rest} id={name} name={name} className=\"form-control\">\r\n        <option value=\"0\">...select...</option>\r\n        {options.map(option => (\r\n          <option key={option.Id} value={option.Id}>\r\n            {option.Name}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      {error && <div className=\"alert alert-danger\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import React, { Component } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport TranslateText from \"./translateText\";\r\n\r\nclass DateInput extends Component {\r\n  setDate = date => {\r\n    this.props.onChange(this.props.name, date);\r\n  };\r\n\r\n  render() {\r\n    const { name, placeholder, value, error } = this.props;\r\n    return (\r\n      <div className=\"form-group\">\r\n        <label htmlFor={name}>\r\n          <TranslateText\r\n            defaultText={placeholder}\r\n            resourceId={placeholder.replace(/\\s+/g, \"_\")}\r\n          />\r\n        </label>\r\n        <DatePicker\r\n          id={name}\r\n          name={name}\r\n          selected={value}\r\n          onChange={this.setDate}\r\n          className=\"form-control\"\r\n        />\r\n        {error && <div className=\"alert alert-danger\">{error}</div>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DateInput;\r\n","// this class will be added to templete and copied as it is to new application\r\nimport http from \"./httpService\";\r\n\r\nconst ApiEndpoint = \"http://86.14.11.234/TranslationManagementWAPI/wapi\";\r\nconst localeKey = \"__locales__\";\r\nlet CurrentLocaleId = \"en-uk\";\r\n\r\nfunction getLocalesFromAPI() {\r\n  return http.get(`${ApiEndpoint}/locale/locales`);\r\n}\r\n\r\nfunction getLocalesFromCache() {\r\n  const item = localStorage.getItem(localeKey);\r\n  return JSON.parse(item);\r\n}\r\n\r\nfunction setLocalesIntoCache(obj) {\r\n  localStorage.setItem(localeKey, JSON.stringify(obj));\r\n  return obj;\r\n}\r\nfunction setCurrentLocale(currentlocaleId) {\r\n  CurrentLocaleId = currentlocaleId;\r\n}\r\n\r\nfunction getCurrentLocale() {\r\n  return CurrentLocaleId;\r\n}\r\n// TOPFB\r\nasync function getTranslationForResource(resourceId, defaultText) {\r\n  const translationFromCache = getResourceFromCache(resourceId);\r\n  if (!translationFromCache) {\r\n    const { data: translations } = await getResourceTranslationsFromAPI(defaultText, resourceId, CurrentLocaleId);\r\n\r\n    setResourcesTranslationsIntoCache(translations.Result);\r\n  }\r\n  const translation = getResourceFromCache(resourceId);\r\n  return translation && translation.Translated ? translation.TranslatedText : defaultText;\r\n}\r\n\r\nasync function getLocales() {\r\n  let locales = getLocalesFromCache();\r\n  if (!locales) {\r\n    const { data } = await getLocalesFromAPI();\r\n    locales = setLocalesIntoCache(data.Result);\r\n  }\r\n  return locales;\r\n}\r\n\r\nfunction getResourceTranslationsFromAPI(defaultText, resourceId, localeId) {\r\n  const resourceEndpoint = `${ApiEndpoint}/LocalResouce/TranslationsByLocale?systemName=defaultSystem&moduleName=defaultModule&localeId=${localeId}&englishText=${defaultText}&resourceId=${resourceId}`;\r\n  return http.post(resourceEndpoint);\r\n}\r\n\r\nfunction getResourceFromCache(resourceId) {\r\n  const item = localStorage.getItem(`${resourceId}_${CurrentLocaleId}`);\r\n  return JSON.parse(item);\r\n}\r\n\r\nfunction setResourcesTranslationsIntoCache(translations) {\r\n  if (!(translations && translations.length)) return;\r\n  translations.forEach(translation => {\r\n    localStorage.setItem(`${translation.ResourceId}_${translation.LocaleId}`, JSON.stringify(translation));\r\n  });\r\n}\r\n\r\nexport default {\r\n  getLocales,\r\n  getTranslationForResource,\r\n  setCurrentLocale,\r\n  getCurrentLocale\r\n};\r\n","import cacheUtil from \"./cacheUtils\";\r\n\r\nconst tokenKey = \"__token__\";\r\n\r\nfunction setToken(jwt) {\r\n  cacheUtil.setCache(tokenKey, jwt);\r\n}\r\n\r\nfunction getToken() {\r\n  return cacheUtil.getCache(tokenKey);\r\n}\r\n\r\nfunction removeToken() {\r\n  cacheUtil.removeCache(tokenKey);\r\n}\r\n\r\nexport default {\r\n  setToken,\r\n  getToken,\r\n  removeToken\r\n};\r\n"],"sourceRoot":""}